<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FarmGuard - Weather Alert System</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Welcome Modal -->
    <div id="welcomeModal" class="modal">
        <!-- Background Image -->
        <img class="welcome-image-bg" src="./images/paddy-fields-2.jpg" alt="Paddy Fields" />
        <div class="image-overlay"></div>
        
        <div class="modal-content welcome-modal">
            <!-- Farmer Icon -->
            <div class="welcome-farmer-icon">üë®‚Äçüåæ</div>
            
            <!-- Main Content -->
            <div class="welcome-content">
                <h1>
                    <span class="welcome-namaste">üôè Namaste!</span>
                    <span class="welcome-title-main">Welcome to FarmGuard</span>
                </h1>
                <p class="welcome-subtitle">Your Smart Farming Weather Assistant</p>
                
                <div class="welcome-features">
                    <div class="feature">
                        <span class="feature-icon">üå§Ô∏è</span>
                        <span>Real-time Weather</span>
                    </div>
                    <div class="feature">
                        <span class="feature-icon">üöú</span>
                        <span>Activity Alerts</span>
                    </div>
                    <div class="feature">
                        <span class="feature-icon">‚ùÑÔ∏è</span>
                        <span>Frost Predictions</span>
                    </div>
                </div>
                
                <button id="getStartedBtn" class="btn-primary btn-large">
                    <span class="btn-emoji">üåæ</span>
                    Get Started
                    <span class="btn-arrow">‚Üí</span>
                </button>
                
                <p class="welcome-tagline">Helping farmers make smarter decisions</p>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="app" class="hidden">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <span class="logo-icon">üåæ</span>
                    <span class="logo-text">FarmGuard</span>
                </div>
                <div class="header-greeting" id="headerGreeting">
                    Good Morning, Farmer!
                </div>
                <div class="header-actions">
                    <!-- Language Selector -->
                    <div class="language-selector">
                        <select id="languageSelect" class="language-dropdown" title="Select Language">
                            <option value="en" data-flag="üá¨üáß">English</option>
                            <option value="hi" data-flag="üáÆüá≥">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
                            <option value="te" data-flag="üáÆüá≥">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
                        </select>
                    </div>
                    <button id="refreshBtn" class="btn-icon" title="Refresh Data">
                        üîÑ
                    </button>
                    <button id="talkBtn" class="btn-icon" title="Listen to Weather Alerts">
                        üîä
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Location Section -->
            <section class="section location-section" id="locationSection">
                <h2 class="section-title">
                    <span class="section-icon">üìç</span>
                    <span id="locationSectionTitle">Your Location</span>
                </h2>
                <div class="location-card">
                    <div class="location-display">
                        <div class="location-info">
                            <span class="location-name location-subtitle" id="locationName">Select your location</span>
                            <span class="location-coords" id="locationCoords">Choose below or use GPS</span>
                        </div>
                        <button id="gpsBtn" class="gps-btn" title="Detect My Location">
                            <svg class="crosshair-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <circle cx="12" cy="12" r="3"/>
                                <line x1="12" y1="2" x2="12" y2="6"/>
                                <line x1="12" y1="18" x2="12" y2="22"/>
                                <line x1="2" y1="12" x2="6" y2="12"/>
                                <line x1="18" y1="12" x2="22" y2="12"/>
                            </svg>
                            <span class="gps-btn-text" id="gpsBtnText">Auto GPS</span>
                        </button>
                    </div>
                    <div id="locationLoading" class="loading-indicator hidden">
                        <div class="spinner"></div>
                        <span id="detectingText">Detecting location...</span>
                    </div>
                    
                    <!-- Manual Location Selection - Farmer Friendly -->
                    <div class="manual-location-section">
                        <div class="manual-location-header manual-selection-label">
                            <span class="manual-icon hand-icon">ÔøΩ</span>
                            <span class="manual-title" id="orTapRegionText">Select Your Location</span>
                        </div>
                        
                        <!-- Manual Location Selector - Dropdowns -->
                        <div class="manual-selector-section" id="manualSelectorContainer">
                            <!-- District and City dropdowns will be populated by JavaScript -->
                        </div>
                        
                        <!-- Selected Location Confirmation -->
                        <div class="location-confirmation hidden" id="locationConfirmation">
                            <div class="confirmation-icon">‚úÖ</div>
                            <div class="confirmation-text">
                                <span class="confirmation-label" id="locationSetLabel">Location Set:</span>
                                <span class="confirmation-location" id="confirmedLocation"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Crop Selection Section -->
            <section class="section crop-section" id="cropSection">
                <h2 class="section-title">
                    <span class="section-icon">üå±</span>
                    <span id="cropSectionTitle">Select Your Crop</span>
                </h2>
                <div class="crop-grid" id="cropGrid">
                    <!-- Crops will be populated by JavaScript -->
                </div>
                <div class="selected-crop-info hidden" id="selectedCropInfo">
                    <span class="selected-label" id="selectedLabel">Selected:</span>
                    <span class="selected-crop-name" id="selectedCropName"></span>
                </div>
            </section>

            <!-- Weather Alerts Section -->
            <section class="section alerts-section" id="alertsSection">
                <h2 class="section-title">
                    <span class="section-icon">‚ö†Ô∏è</span>
                    <span id="alertsSectionTitle">Weather Alerts</span>
                </h2>
                <div id="alertsContainer" class="alerts-container">
                    <div class="placeholder-message">
                        <span class="placeholder-icon">üëÜ</span>
                        <p id="alertsPlaceholder">Select your location and crop to view weather alerts</p>
                    </div>
                </div>
            </section>

            <!-- 7-Day Weather Forecast -->
            <section class="section forecast-section hidden" id="forecastSection">
                <h2 class="section-title">
                    <span class="section-icon">üìÖ</span>
                    <span id="forecastSectionTitle">7-Day Forecast</span>
                </h2>
                <div class="forecast-scroll-container">
                    <div class="forecast-grid" id="forecastGrid">
                        <!-- Forecast days will be populated by JavaScript -->
                    </div>
                </div>
                <div class="week-summary" id="weekSummary">
                    <!-- Week analysis will be populated by JavaScript -->
                </div>
            </section>

            <!-- Smart Visual Recommendations - Farmer Friendly -->
            <section class="section smart-recommendations-section hidden" id="smartRecommendationsSection">
                <div class="recommendations-header">
                    <h2 class="section-title">
                        <span class="section-icon">üí°</span>
                        <span id="smartRecommendationsSectionTitle">What To Do Today</span>
                    </h2>
                    <div class="language-badge" id="languageBadge">English üá¨üáß</div>
                </div>
                <div class="smart-recommendations-container">
                    <!-- TODAY Actions - Large Visual Cards -->
                    <div class="today-actions" id="todayActions">
                        <!-- Populated by JavaScript with big visual DO/DON'T cards -->
                    </div>
                    
                    <!-- Week Planning -->
                    <div class="week-planning hidden" id="weekPlanning">
                        <h3 class="planning-header">
                            <span class="planning-icon">üìÜ</span>
                            <span id="weekPlanningTitle">Plan Your Week</span>
                        </h3>
                        <div class="planning-cards" id="planningCards">
                            <!-- Weekly planning suggestions -->
                        </div>
                    </div>
                    
                    <!-- Crop-Specific Tips -->
                    <div class="crop-tips hidden" id="cropTipsSection">
                        <h3 class="tips-header">
                            <span class="tips-icon">üå±</span>
                            <span id="cropTipsTitle">Tips for Your Crop</span>
                        </h3>
                        <div class="tips-cards" id="cropTipsCards">
                            <!-- Crop-specific tips -->
                        </div>
                    </div>
                </div>
            </section>



            <!-- Frost Risk Section -->
            <section class="section frost-section hidden" id="frostSection">
                <h2 class="section-title">
                    <span class="section-icon">‚ùÑÔ∏è</span>
                    <span id="frostSectionTitle">Frost Risk Alert</span>
                </h2>
                </h2>
                <div class="frost-card" id="frostCard">
                    <!-- Frost info will be populated by JavaScript -->
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p id="footerMain">üåæ FarmGuard - Protecting Your Harvest</p>
            <p class="footer-subtitle" id="footerSub">Weather data powered by AccuWeather</p>
        </footer>
    </div>

    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="translations.js"></script>
    <script src="telangana-map.js"></script>
    <script src="app.js"></script>
</body>
</html>
